{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\evan\\\\OneDrive - purdue.edu\\\\Year 3\\\\Sem 1\\\\CS348\\\\Noter\\\\client\\\\src\\\\screens\\\\CreateAccount.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport \"react-activity/dist/library.css\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { setUsername as setGlobalUsername } from \"../redux/userSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CreateAccount() {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirm, setConfirm] = useState(\"\");\n  const [taken, setTaken] = useState(false);\n  const [match, setMatch] = useState(true);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const createUser = async (username, password) => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var raw = JSON.stringify({\n      username,\n      password\n    });\n    var requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: raw,\n      redirect: \"follow\"\n    };\n    const response = await fetch(\"http://localhost:5000/users/\", requestOptions);\n    const result = await response.json();\n    console.log(JSON.stringify(result));\n    if (result.taken === true) {\n      setTaken(true);\n    } else {\n      dispatch(setGlobalUsername(username));\n      navigate(\"/\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen flex items-center justify-start flex-col pt-4  bg-primary-800\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-3/4 h-full flex flex-col overflow-y-scroll no-scrollbar p-4 space-y-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl text-primary-100 pb-6\",\n        children: \"Create an Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"h-12 border rounded-xl p-2\",\n        type: \"text\",\n        placeholder: \"Username\",\n        onChange: e => {\n          setUsername(e.target.value);\n          setTaken(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"h-12 border rounded-xl p-2\",\n        type: \"text\",\n        placeholder: \"Password\",\n        onChange: e => {\n          setPassword(e.target.value);\n          setTaken(false);\n          setMatch(true);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"h-12 border rounded-xl p-2\",\n        type: \"text\",\n        placeholder: \"Confirm Password\",\n        onChange: e => {\n          setConfirm(e.target.value);\n          setTaken(false);\n          setMatch(true);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), taken && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-200 text-xs pl-2\",\n        children: \"Username taken!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }, this), !match && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-200 text-xs pl-2\",\n        children: \"Passwords don't match!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), !taken && match && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-transparent text-xs\",\n        children: \"...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"h-12 border rounded-xl p-2 bg-primary-100 \",\n        onClick: () => {\n          if (confirm !== password) {\n            setMatch(false);\n            return;\n          }\n          if (username !== \"\" && password !== \"\" && confirm === password) createUser(username, password);\n        },\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          navigate(\"/login\");\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-xs pt-10 text-primary-100\",\n          children: \"Back to login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateAccount, \"bmsIwhXaE0ilB9DT1CXozGgsbBA=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = CreateAccount;\nexport default CreateAccount;\nvar _c;\n$RefreshReg$(_c, \"CreateAccount\");","map":{"version":3,"names":["React","useState","useNavigate","useDispatch","setUsername","setGlobalUsername","jsxDEV","_jsxDEV","CreateAccount","_s","username","password","setPassword","confirm","setConfirm","taken","setTaken","match","setMatch","navigate","dispatch","createUser","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","response","fetch","result","json","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","value","onClick","_c","$RefreshReg$"],"sources":["C:/Users/evan/OneDrive - purdue.edu/Year 3/Sem 1/CS348/Noter/client/src/screens/CreateAccount.js"],"sourcesContent":["import React from \"react\";\r\nimport \"react-activity/dist/library.css\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setUsername as setGlobalUsername } from \"../redux/userSlice\";\r\n\r\nfunction CreateAccount() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirm, setConfirm] = useState(\"\");\r\n  const [taken, setTaken] = useState(false);\r\n  const [match, setMatch] = useState(true);\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const createUser = async (username, password) => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    var raw = JSON.stringify({\r\n      username,\r\n      password,\r\n    });\r\n\r\n    var requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    const response = await fetch(\r\n      \"http://localhost:5000/users/\",\r\n      requestOptions\r\n    );\r\n    const result = await response.json();\r\n    console.log(JSON.stringify(result));\r\n    if (result.taken === true) {\r\n      setTaken(true);\r\n    } else {\r\n      dispatch(setGlobalUsername(username));\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-screen flex items-center justify-start flex-col pt-4  bg-primary-800\">\r\n      <div className=\"w-3/4 h-full flex flex-col overflow-y-scroll no-scrollbar p-4 space-y-2\">\r\n        <h1 className=\"text-xl text-primary-100 pb-6\">Create an Account</h1>\r\n        <input\r\n          className=\"h-12 border rounded-xl p-2\"\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          onChange={(e) => {\r\n            setUsername(e.target.value);\r\n            setTaken(false);\r\n          }}\r\n        />\r\n        <input\r\n          className=\"h-12 border rounded-xl p-2\"\r\n          type=\"text\"\r\n          placeholder=\"Password\"\r\n          onChange={(e) => {\r\n            setPassword(e.target.value);\r\n            setTaken(false);\r\n            setMatch(true);\r\n          }}\r\n        />{\" \"}\r\n        <input\r\n          className=\"h-12 border rounded-xl p-2\"\r\n          type=\"text\"\r\n          placeholder=\"Confirm Password\"\r\n          onChange={(e) => {\r\n            setConfirm(e.target.value);\r\n            setTaken(false);\r\n            setMatch(true);\r\n          }}\r\n        />\r\n        {taken && <p className=\"text-red-200 text-xs pl-2\">Username taken!</p>}\r\n        {!match && (\r\n          <p className=\"text-red-200 text-xs pl-2\">Passwords don't match!</p>\r\n        )}\r\n        {!taken && match && <p className=\"text-transparent text-xs\">...</p>}\r\n        <button\r\n          className=\"h-12 border rounded-xl p-2 bg-primary-100 \"\r\n          onClick={() => {\r\n            if (confirm !== password) {\r\n              setMatch(false);\r\n              return;\r\n            }\r\n            if (username !== \"\" && password !== \"\" && confirm === password)\r\n              createUser(username, password);\r\n          }}\r\n        >\r\n          Submit\r\n        </button>\r\n        <div\r\n          onClick={() => {\r\n            navigate(\"/login\");\r\n          }}\r\n        >\r\n          <p className=\"text-center text-xs pt-10 text-primary-100\">\r\n            {\"Back to login\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateAccount;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}